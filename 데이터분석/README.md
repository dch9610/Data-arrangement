# Data-arrangement

배운내용을 정리하여 기록해놓는 레퍼지토리

---

## 목차

[1. 농구 데이터 분석](#1.-농구-데이터-분석)</br>
[2. 시간 다루기](#2.-시간-다루기)</br>
[3. 주가 정보](#3.-주가-정보)</br>
[4. 주가정보로 수익률 알아보기](#4.-주가정보로-수익률-알아보기)</br>
[5. 맛집 데이터](#5.-맛집-데이터)</br>
[6. 멕시코풍 프랜차이즈 주문 데이터](#6.-멕시코풍-프랜차이즈-주문-데이터)</br>
[7. 전세계 음주 데이터 분석](#7.-전세계-음주-데이터-분석)</br>
[8. 나무위키 데이터 수집](#8.-나무위키-데이터-수집)</br>
[9. 나무위키 키워드 분석](#9.-나무위키-키워드-분석)</br>
[10. API로 웹 데이터 수집](#10.-API로-웹-데이터-수집)</br>
[11. API로 수집한 데이터 키워드 분석](#11.-API로-수집한-데이터-키워드-분석)</br>
[12.프로야구 선수 연봉 데이터](#12.프로야구-선수-연봉-데이터)</br>
[13. 프로야구 선수 연봉 -VIF 계수 활용](#13.-프로야구-선수-연봉--VIF-계수-활용)</br>
[14. 비트코인 시세 분석](#14.-비트코인-시세-분석)</br>
[15.영화 평점 데이터 분석](#15.영화-평점-데이터-분석)</br>
[16. 맛집 리뷰를 통한 감성 분석](#16.-맛집-리뷰를-통한-감성-분석)

---

## 1. 농구 데이터 분석

### 1. 데이터 수집하기

- 웹 페이지 내에 table 태그 데이터 정보를 수집하는 방법

### 2. 데이터 파악하기

### 3. 데이터 전처리

- 날짜 데이터를 원하는 방식으로 변경하기
- 필요한 열만 추출해서 정리하기
- 데이터 전처리 체이닝 처리
    - 파일에서 데이터를 읽어와 데이터프레임 생성
    - 컬럼이름 변경
    - 원하는 컬럼만 가져오기
    - .assign을 이용하여 필요한 데이터 형태로 변경
    - 변경한 데이터를 인덱스로 추가 .set_index(append=True) 기존 인덱스는 유지

---

## 2. 시간 다루기

- 데이터프레임의 시간관련기능들
- 값을 날짜로 변환
    - 문자열로 되어있는 값을 날짜로 변환

---

## 3. 주가 정보

- DataReader 이용해 주식데이터 가져오기
- resample을 통해 시간을 나누어 데이터를 가져온다.

---

## 4. 주가정보로 수익률 알아보기

- pct_change() : 직전 로우와 값을 비교하여 결과를 출력
- 박스 그래프를 통해 이상치 확인
- 특정 범위를 벗어나느 그래프의 색을 다르게 표시
- 그래프 내에 하이라이트 선 그리기 (상위 90%, 하위 10%)
- 그래프 확인
    - 선 -> 변화패턴 확인 (회귀)
    - 산점 -> 분포 확인 (분류)
    - 막대 -> 양비교
    - 파이 -> 비율비교
    - 히스토그램 -> 중간값을 기준으로 값들의 개수 비교
    - 박스 -> 이상치 확인
    - 히트맵 -> 상관관계 비교
- 통계량 보기
    - 첨도 : 분포의 꼬리부분의 길이와 중앙부분의 뽀족함에 대한 정보를 제공하는 통계량
        - 첨도는 잘 정의된 통계량이 아니기 때문에 논란의 여지가 있는 통계량이다.
        - 정규분포의 첨도는 0이다. (정규분포는 3의 값이 나오지만, 첨도를 0으로 만들기위해 3을 빼준다.)
        - 첨도가 0보다 크면 정규분포보다 긴 꼬리를 가지고, 분포가 중앙 부분에 덜 집중 되어있다. 변화량이 크다 (뾰족하다)
        - 첨도가 0보다 작으면 짧은꼬리를 가지고 분포가 중앙 부분에 더 집중되어있다. 변화량이 작다. (둥그렇다)
    - 왜도
        - 분포의 비대칭 정도를 나타내는 통계이다.
        - 분포가 완전 대칭인 경우에는 왜도가 0이다.
        - 왼쪽으로 긴 꼬리를 가지면 왜도는 음수이고, 오른쪽으로 긴 꼬리를 가지면 왜도는 양수이다.
        - 비대칭 정도가 심할수록 왜도의 절대값이 증가한다.

---

## 5. 맛집 데이터

- 문자열 데이터 다루기 (.str.replace )
- 결측치 처리

---

## 6. 멕시코풍 프랜차이즈 주문 데이터

- 상품별 주문개수를 시각화
- apply와 lambda 함수를 이용하여 데이터 전처리
- 인덱스 재정의

---

## 7. 전세계 음주 데이터 분석

- 시각화 처리
    - 평균 위치에 선 표시
    - 특정 부분만 다른색깔로 표시
    - 화살표로 표시

---

## **8. 나무위키 데이터 수집**

- 웹사이트에서 정보를 수집 (bs4 이용)
    - 태그 copy를 이용하여 경로를 따라 원하는 데이터만 가져오기
- 데이터를 담을 딕셔너리 생성하여 csv파일로 생성

---

## 9. 나무위키 키워드 분석

- 한국어 분석을 위한 환경 구성
- 워드 클라우드를 사용하기 위한 라이브러리 설치
- 텍스트 정제 함수 생성 (한글 이외의 문자는 전부 제거)
- 말뭉치 다듬기
    - 한글자 데이터, 불용어 삭제
- 워드 클라우드 시각화

---

## **10. API로 웹 데이터 수집**

- 네이버 개발자 센터 이용
    - 검색 API 사용 요청
    - 주소, 파라미터, 헤더 작성
    - json 객체로 생성

---

## **11. API로 수집한 데이터 키워드 분석**

구글 Postman을 이용해 요청받은 API 주소의 정보를 잘 읽어오는지 확인

### 키워드 분석 순서

- 데이터를 읽어온다.
- 결측치 확인
- 한글 정제
- 형태소 분석
- 키워드 다듬기
- 워드 클라우드로 시각화

---

## 12.프로야구 선수 연봉 데이터

- 데이터 파악
- 회귀분석에서 사용할 피처 알아보기
- 투수 연봉 예측하기
    - 각 특성에 대해 표준화 작업을 하는 함수 만들기
    - 불필요한 컬럼 제거
    - 입력과 결과 나누기
    - 표준화 작업
    - 학습용, 검증용 나누기
    - 모델 생성, 최적의 하이퍼파라미터가 셋팅된 모델 추출
    - 교차 검증, 결과 예측, 그래프 확인

---

## 13. 프로야구 선수 연봉 -VIF 계수 활용

- 방식은 12와 동일
- 상관관계 파악 추가
- VIF 계수 : 다중공선성 정도를 계산하여 제공하는 수
    - VIF 계수가 높은 컬럼은 제거하여 분석 실시

---

## 14. 비트코인 시세 분석

- 시세 예측 - ARIMA 모델 적용
- 모델 성능과 예측 결과 시각화
- Facebook Prophet 사용
    - 모델로부터 예측할 기간을 정의하고, 결과를 도출
- 가격예측

---

## 15.영화 평점 데이터 분석

- 파일 확장자가 csv가 아닌 경우 데이터 읽어오기
- 연도별 데이터로 전처리 후 시각화
- unstack을 이용하여 테이블에 NaN값 처리
- surprise 라이브러리를 이용하여 테이블 내의 NaN 값을 예측
    - SVD, Dataset, Reader, accuracy
    - Reader 생성 → 데이터 생성 → SVD 모델을 통해 학습

---

## 16. 맛집 리뷰를 통한 감성 분석

- 한글 외의 모든 글자를 제거하는 함수 생성
- 형태소 분석
    - konlpy 라이브러리 중 Okt 사용
- 분류 모델의 학습 데이터로 변환하기
- TF-IDF로 변환
- 학습 데이터 생성
- 중요 피처 형태소